import{j as e,I as L,V as o,c as j,g as A}from"./index-D3ZYKOMr.js";import{r}from"./icons-DbTSyZBX.js";import{A as U,I as z,u as $,a as F}from"./useAccommodationData-CzsLUOge.js";import{M as O}from"./Modal-C_lINF_8.js";import"./react-DbHEDQBy.js";import"./Select-BSdvxTLj.js";import"./FileInput-BqOq6VSn.js";import"./DefaultLoader-BRIWHAbz.js";/* empty css                       */import"./useInput-syuInLTh.js";const P=({roomTypes:d,fetchRoomLoading:i,fetchAllRoomTypes:c})=>{const[u,m]=r.useState(""),[p,M]=r.useState(1),[v,N]=r.useState(!1),[C,y]=r.useState(!1),[I,b]=r.useState(""),[_,x]=r.useState(1),[w,S]=r.useState(!1),[D,g]=r.useState(!1),[f,E]=r.useState(null),[R,k]=r.useState(!1),T=s=>{E(s),b(s.accommodation_type_name),x(s.max_guests),y(!0)},t=s=>{E(s),g(!0)},a=async s=>{var n;s.preventDefault();try{N(!0),await U.store({accommodation_type_name:u,max_guests:p}),m(""),c(),o.success("Room type added successfully")}catch(h){if(h instanceof j){o.error((n=h.response)==null?void 0:n.data.message);return}console.error("Error adding room type:",h),o.error("Error adding room type")}finally{N(!1)}},l=async()=>{var s;try{k(!0),await A.delete(`/accommodation-types/${f.id}`),o.success("Room type deleted successfully"),g(!1),c()}catch(n){if(n instanceof j){o.error((s=n.response)==null?void 0:s.data.message);return}o.error("Error deleting room type:",n)}finally{k(!1)}},G=async s=>{var n;s.preventDefault();try{S(!0),await A.put(`/accommodation-types/${f.id}`,{accommodation_type_name:I,max_guests:_}),o.success("Room type updated successfully"),y(!1),c()}catch(h){if(h instanceof j){o.error((n=h.response)==null?void 0:n.data.message);return}o.error("Error updating room type:",h)}finally{S(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Manage Room Types"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Create and manage different accommodation room types"})]}),e.jsxs("form",{className:"bg-card border border-gray-300 rounded-lg p-6 space-y-4",onSubmit:a,autoComplete:"off",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Add New Room Type"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"room_type_name",className:"block text-sm font-medium text-foreground mb-2",children:"Room Type Name"}),e.jsx("input",{type:"text",value:u,onChange:s=>m(s.target.value),placeholder:"Room type name (e.g., Standard, Deluxe)",className:`col-span-1 md:col-span-2 bg-background border border-gray-300 rounded-lg outline-none shadow-none ring-0 \r
                 focus:border-primary focus:ring-1 focus:ring-primary px-4 py-3 text-foreground placeholder-muted-foreground transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"max_guests",className:"block text-sm font-medium text-foreground mb-2",children:"Maximum Guests"}),e.jsx("input",{type:"number",value:p,onChange:s=>M(Number(s.target.value)),placeholder:"Max guests",min:"1",className:`bg-background border border-gray-300 rounded-lg outline-none shadow-none ring-0 \r
                 focus:border-primary focus:ring-1 focus:ring-primary px-4 py-3 text-foreground placeholder-muted-foreground transition-all`})]})]}),e.jsx("button",{type:"submit",disabled:v,className:"w-full md:w-auto px-6 py-3 rounded-lg bg-primary hover:bg-primary/90 active:bg-primary/80 transition-all duration-200 text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:v?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Adding..."]}):"Add Room Type"})]}),e.jsxs("div",{className:"bg-card border border-gray-300 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-primary/90 border-b border-gray-300 px-6 py-4",children:e.jsxs("h2",{className:"font-semibold text-white",children:["Room Types (",d.length,")"]})}),e.jsx("div",{className:"max-h-[50vh] overflow-y-auto",children:i?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-3 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-2"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading room types..."})]})}):d.length===0?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"No room types yet. Create one to get started."})}):e.jsx("div",{className:"divide-y divide-border divide-gray-300",children:d.map((s,n)=>e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 hover:bg-primary/10 transition-colors duration-150 group",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-foreground",children:s.accommodation_type_name}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Max ",s.max_guests," guest",s.max_guests!==1?"s":""]})]}),e.jsxs("div",{className:"flex gap-3 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>T(s),className:"cursor-pointer p-2 hover:bg-background rounded-lg transition-colors text-primary",title:"Edit room type",children:e.jsx(L,{name:"Pencil",size:18,color:"currentColor"})}),e.jsx("button",{onClick:()=>t(s),className:"cursor-pointer p-2 hover:bg-destructive/10 rounded-lg transition-colors text-destructive",title:"Delete room type",children:e.jsx(L,{name:"Trash",size:18,color:"currentColor"})})]})]},n))})})]}),e.jsx(O,{isOpen:C,setIsOpen:y,className:"max-w-md min-w-sm max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Edit Room Type"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Update the room type details below"})]}),e.jsxs("form",{autoComplete:"off",onSubmit:G,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Room Type Name"}),e.jsx("input",{type:"text",value:I,onChange:s=>b(s.target.value),placeholder:"e.g., Standard, Deluxe, Suite",className:`w-full bg-background border border-gray-300 rounded-lg outline-none shadow-none ring-0 \r
                         focus:border-primary focus:ring-1 focus:ring-primary px-4 py-3 text-foreground placeholder-muted-foreground transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Maximum Guests"}),e.jsx("input",{type:"number",value:_,onChange:s=>x(Number(s.target.value)),placeholder:"e.g., 2",min:"1",className:`w-full bg-background border border-gray-300 rounded-lg outline-none shadow-none ring-0 \r
                         focus:border-primary focus:ring-1 focus:ring-primary px-4 py-3 text-foreground placeholder-muted-foreground transition-all`})]}),e.jsx("button",{type:"submit",disabled:w,className:"w-full py-3 rounded-lg bg-primary hover:bg-primary/90 active:bg-primary/80 text-primary-foreground font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:w?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Saving..."]}):"Save Changes"})]})]})}),e.jsx(O,{isOpen:D,setIsOpen:g,className:"max-w-sm",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Delete Room Type"}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Are you sure you want to delete"," ",e.jsxs("span",{className:"font-semibold text-foreground",children:['"',f==null?void 0:f.accommodation_type_name,'"']}),"? This action cannot be undone."]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"flex-1 px-4 py-3 text-foreground border border-gray-300 rounded-lg hover:bg-secondary/50 transition-colors font-medium",onClick:()=>g(!1),children:"Cancel"}),e.jsx("button",{className:"flex-1 px-4 py-3 text-destructive-foreground bg-destructive hover:bg-destructive/90 active:bg-destructive/80 rounded-lg transition-all font-medium disabled:opacity-50 disabled:cursor-not-allowed",onClick:l,disabled:R,children:R?"Deleting...":"Delete"})]})]})})]})},V=({inclusions:d,fetchAllInclusions:i,fetchInclusionLoading:c})=>{const[u,m]=r.useState(""),[p,M]=r.useState(!1),[v,N]=r.useState(!1),[C,y]=r.useState(!1),[I,b]=r.useState(!1),[_,x]=r.useState(!1),[w,S]=r.useState(""),[D,g]=r.useState(null),f=async t=>{var a;t.preventDefault();try{M(!0),await z.store({inclusion_name:u}),m(""),i(),o.success("Inclusion added successfully")}catch(l){if(l instanceof j){o.error((a=l.response)==null?void 0:a.data.message);return}console.error("Error adding inclusion:",l),o.error("Error adding inclusion")}finally{M(!1)}},E=t=>{S(t.inclusion_name),g(t),b(!0)},R=t=>{g(t),x(!0)},k=async t=>{var a;t.preventDefault();try{y(!0),await A.put(`/inclusions/${D.id}`,{inclusion_name:w}),o.success("Inclusion updated successfully"),b(!1),i()}catch(l){if(l instanceof j){o.error((a=l.response)==null?void 0:a.data.message);return}o.error("Error updating room type:",l)}finally{y(!1)}},T=async()=>{var t;try{N(!0),await A.delete(`/inclusions/${D.id}`),o.success("Inclusion deleted successfully"),x(!1),i()}catch(a){if(a instanceof j){o.error((t=a.response)==null?void 0:t.data.message);return}o.error("Error deleting room type:",a)}finally{N(!1)}};return e.jsxs("div",{className:"border border-gray-300 rounded-xl p-5",children:[e.jsx("h1",{className:"font-bold text-black mb-3",children:"Manage Inclusions"}),e.jsxs("form",{className:"flex gap-3 w-full ",onSubmit:f,autoComplete:"off",children:[e.jsx("input",{type:"text",value:u,onChange:t=>m(t.target.value),placeholder:"Inclusions",className:`w-full bg-white border border-gray-300 rounded-lg outline-none shadow-none ring-0 \r
             focus:border-primary focus:ring-0 px-3`}),e.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 rounded-lg bg-primary hover:bg-primary/90 transition-all duration-300 text-white",children:p?"Loading...":"Add"})]}),e.jsx("div",{className:"mt-3 max-h-[40vh] overflow-y-auto",children:c?"Loading...":d.map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between hover:bg-gray-100 p-3 rounded-lg border border-gray-300 mb-3",children:[e.jsx("p",{className:"text-gray-700",children:t.inclusion_name}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>E(t),className:"text-blue-500 hover:text-blue-700 transition",children:e.jsx(L,{name:"Pencil",size:18,color:"#1447e6"})}),e.jsx("button",{onClick:()=>R(t),className:"text-red-500 hover:text-red-700 transition",children:e.jsx(L,{name:"Trash",size:18,color:"#fb2c36"})})]})]},a))}),e.jsxs(O,{isOpen:I,setIsOpen:b,className:"max-w-2xl min-w-xl max-h-[90vh] overflow-y-auto",children:[e.jsx("h1",{className:"font-bold text-2xl",children:"Edit Inclusion"}),e.jsxs("form",{autoComplete:"off",onSubmit:k,className:"grid grid-cols-1 gap-5",children:[e.jsx("input",{type:"text",value:w,onChange:t=>S(t.target.value),placeholder:"Room type",className:`w-full bg-white border border-gray-300 rounded-lg outline-none shadow-none ring-0 \r
             focus:border-primary focus:ring-0 px-2 py-3`}),e.jsx("button",{type:"submit",disabled:C,className:" w-full cursor-pointer py-3 rounded-lg bg-primary text-white font-bold",children:C?"Loading...":"Save"})]})]}),e.jsxs(O,{isOpen:_,setIsOpen:x,className:"max-w-2xl min-w-xl max-h-[90vh] overflow-y-auto",children:[e.jsx("h1",{className:"font-bold text-2xl",children:"Delete Inclusion"}),e.jsx("p",{className:"text-gray-700",children:"Are you sure you want to delete this inclusion?"}),e.jsxs("div",{className:"flex gap-2 mt-5",children:[e.jsx("button",{className:"px-4 py-2 text-gray-700 border rounded hover:bg-gray-100",onClick:()=>x(!1),children:"Cancel"}),e.jsx("button",{className:"px-4 py-2 text-white bg-red-600 hover:bg-red-700 rounded",onClick:T,disabled:v,children:v?"Loading...":"Delete"})]})]})]})},ee=()=>{const{roomTypes:d,inclusions:i,fetchRoomLoading:c,fetchAllRoomTypes:u,fetchAllInclusions:m,fetchInclusionLoading:p}=$();return e.jsxs("div",{className:"flex gap-5 flex-col xl:flex-row",children:[e.jsxs("div",{className:"flex flex-col gap-5 w-full xl:w-1/2",children:[e.jsx(P,{roomTypes:d,fetchRoomLoading:c,fetchAllRoomTypes:u}),e.jsx(V,{inclusions:i,fetchAllInclusions:m,fetchInclusionLoading:p})]}),e.jsx(F,{inclusions:i,roomTypes:d})]})};export{ee as default};
