import{j as e}from"./index-D3ZYKOMr.js";import{r}from"./icons-DbTSyZBX.js";import{T as n}from"./Title-BuIfxpma.js";import{A as p,a as g}from"./AccomodationCard-BsXJR4CF.js";import"./react-DbHEDQBy.js";const _=()=>{const[i,l]=r.useState([]),[a,d]=r.useState(!0),[o,x]=r.useState(null);return r.useEffect(()=>{(async()=>{try{const s=await g.get();if(Array.isArray(s.data))l(s.data);else throw new Error("Invalid response format")}catch(s){console.error("Failed to fetch accommodations:",s),x("Unable to load accommodations. Please try again later.")}finally{d(!1)}})()},[]),e.jsxs("section",{id:"Accommodations",className:"px-2 py-8",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(n,{title:"Accommodations"})}),a&&e.jsx("div",{className:"flex justify-center py-10",children:e.jsx("p",{className:"text-gray-500",children:"Loading accommodations..."})}),!a&&o&&e.jsx("div",{className:"flex flex-col items-center justify-center gap-3 py-10",children:e.jsx("p",{className:"text-gray-500 text-sm",children:o})}),!a&&!o&&i.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 mt-6",children:i.map(t=>{var s,c,m;return e.jsx(p,{roomId:t.id,roomName:t.room_name,accommodationTypeName:((s=t.accommodation_type)==null?void 0:s.accommodation_type_name)??"",maxGuests:(c=t.accommodation_type)==null?void 0:c.max_guests,dayNightTourPrice:t.day_night_tour_price,roomInclusions:t.room_inclusions,roomImage:(m=t.room_images.find(f=>f.is_main_image))==null?void 0:m.file},t.id)})}),!a&&!o&&i.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-10",children:[e.jsx(n,{title:"No Accommodations Found"}),e.jsx("p",{className:"text-sm text-gray-500",children:"We couldn't find any accommodations matching your search criteria."})]})]})};export{_ as default};
