import{j as e,g as w,c as v}from"./index-D3ZYKOMr.js";import{r as m,l as h,m as u,f as g,S as j,T as y,n as f}from"./icons-DbTSyZBX.js";import{D as p}from"./DefaultLoader-BRIWHAbz.js";import"./react-DbHEDQBy.js";/* empty css                       */function a({title:s,value:n,change:t,icon:x,subtitle:r}){return e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:x}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:s}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n}),r&&e.jsx("p",{className:"text-xs text-gray-500",children:r})]})]}),t!==void 0&&e.jsxs("div",{className:`flex items-center space-x-1 ${t>=0?"text-green-600":"text-red-600"}`,children:[t>=0?e.jsx(y,{className:"w-4 h-4"}):e.jsx(f,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm font-medium",children:[Math.abs(t),"%"]})]})]})})}function d({stars:s,count:n,percentage:t}){return e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-1 w-16",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:s}),e.jsx(j,{className:"w-4 h-4 text-yellow-400 fill-current"})]}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-300",style:{width:`${t}%`}})}),e.jsxs("div",{className:"text-sm text-gray-600 w-16 text-right",children:[n," (",t,"%)"]})]})}const D=()=>{const[s,n]=m.useState({campsites:{total:0,available:0,occupied:0},sales:{daily:0,weekly:0,monthly:0},bookings:{daily:0,weekly:0,monthly:0},reviews:{total:0,fiveStars:0,fourStars:0,threeStars:0,twoStars:0,oneStar:0}}),[t,x]=m.useState(!0);m.useEffect(()=>{(async()=>{var o;try{x(!0);const i=await w.get("/analytics");n(c=>({...c,...i.data,campsites:{...c.campsites,...i.data.campsites??{}},sales:{...c.sales,...i.data.sales??{}},bookings:{...c.bookings,...i.data.bookings??{}},reviews:{...c.reviews,...i.data.reviews??{}}}))}catch(i){i instanceof v&&console.error((o=i.response)==null?void 0:o.data.message)}finally{x(!1)}})()},[]);const r=m.useMemo(()=>{var o;const l=((o=s==null?void 0:s.reviews)==null?void 0:o.total)??0;return l===0?{fiveStars:0,fourStars:0,threeStars:0,twoStars:0,oneStar:0}:{fiveStars:Math.round(s.reviews.fiveStars/l*100),fourStars:Math.round(s.reviews.fourStars/l*100),threeStars:Math.round(s.reviews.threeStars/l*100),twoStars:Math.round(s.reviews.twoStars/l*100),oneStar:Math.round(s.reviews.oneStar/l*100)}},[s]);return t?e.jsx(p,{}):e.jsxs("main",{className:"p-6 space-y-8",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Campsite Availability"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(a,{title:"Total Campsites",value:s.campsites.total??0,icon:e.jsx(h,{className:"w-6 h-6 text-blue-600"})}),e.jsx(a,{title:"Available",value:s.campsites.available,icon:e.jsx(h,{className:"w-6 h-6 text-green-600"}),subtitle:"Ready for booking"}),e.jsx(a,{title:"Occupied",value:s.campsites.occupied,icon:e.jsx(h,{className:"w-6 h-6 text-orange-600"}),subtitle:"Currently booked"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Sales Performance"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(a,{title:"Daily Sales",value:new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(s.sales.daily),icon:e.jsx(u,{className:"w-6 h-6 text-green-600"})}),e.jsx(a,{title:"Weekly Sales",value:new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(s.sales.weekly),icon:e.jsx(u,{className:"w-6 h-6 text-green-600"})}),e.jsx(a,{title:"Monthly Sales",value:new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(s.sales.monthly),icon:e.jsx(u,{className:"w-6 h-6 text-green-600"})})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Booking Statistics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(a,{title:"Daily Bookings",value:s.bookings.daily,icon:e.jsx(g,{className:"w-6 h-6 text-blue-600"})}),e.jsx(a,{title:"Weekly Bookings",value:s.bookings.weekly,icon:e.jsx(g,{className:"w-6 h-6 text-blue-600"})}),e.jsx(a,{title:"Monthly Bookings",value:s.bookings.monthly,icon:e.jsx(g,{className:"w-6 h-6 text-blue-600"})})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Customer Engagement"}),e.jsx("div",{className:"grid grid-cols-1 gap-6",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-yellow-50 rounded-lg",children:e.jsx(j,{className:"w-6 h-6 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Review Distribution"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Total Reviews: ",s.reviews.total??0]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(d,{stars:5,count:s.reviews.fiveStars,percentage:r.fiveStars,total:s.reviews.total??0}),e.jsx(d,{stars:4,count:s.reviews.fourStars,percentage:r.fourStars,total:s.reviews.total??0}),e.jsx(d,{stars:3,count:s.reviews.threeStars,percentage:r.threeStars,total:s.reviews.total??0}),e.jsx(d,{stars:2,count:s.reviews.twoStars,percentage:r.twoStars,total:s.reviews.total??0}),e.jsx(d,{stars:1,count:s.reviews.oneStar,percentage:r.oneStar,total:s.reviews.total??0})]})]})})]})]})};export{D as default};
