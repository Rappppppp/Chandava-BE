import{u as g,j as e,S as p,a as h,L as f,b as w,A as b,V as t,c as v}from"./index-D3ZYKOMr.js";import{r as j,A as y}from"./icons-DbTSyZBX.js";import{H as N}from"./hero-bg-B259G2Ui.js";import{L as k,I as d}from"./Input-CSR4Hc52.js";import{u as L}from"./useInput-syuInLTh.js";import"./react-DbHEDQBy.js";const E=()=>{const[l,i]=j.useState(!1),a=g(),{values:s,handleChange:o,errors:n,isValid:u}=L({email:{value:"",required:!0,email:!0},password:{value:"",required:!0}}),m=async x=>{var c;if(x.preventDefault(),!!u())try{i(!0),await w.get("https://genevieve-dynamistic-jeanine.ngrok-free.dev/sanctum/csrf-cookie",{withCredentials:!0});const r=await b.login(s.email.value,s.password.value);if(r.user.role==="admin"){a("/admin/dashboard");return}else if(r.user.role==="user"){a("/users/home");return}else t.error("Something went wrong. Please try again.")}catch(r){if(r instanceof v){t.error((c=r==null?void 0:r.response)==null?void 0:c.data.message);return}t.error("Something went wrong. Please try again.")}finally{i(!1)}};return e.jsxs("div",{className:"relative h-screen w-screen flex flex-col lg:flex-row bg-black",children:[e.jsx(p,{}),e.jsx("div",{className:"fixed inset-0 bg-black brightness-90",style:{backgroundImage:`url(${N})`,backgroundSize:"cover",backgroundPosition:"center"}}),e.jsxs("div",{className:"relative z-10 text-white w-full lg:w-1/2 flex flex-col items-center justify-center px-10 py-10",children:[e.jsx("img",{src:k,alt:"",className:"aspect-square w-[6.25rem] lg:w-[9.375rem] rounded-full mb-3"}),e.jsx("h1",{className:"text-4xl lg:text-6xl text-center  font-water-brush",children:"Welcome to Chandava Lake Resort and Resto"}),e.jsx("p",{className:"text-lg lg:text-2xl",children:"your gateway to relaxation"})]}),e.jsx("div",{className:"relative z-10 text-white  flex-1 flex lg:items-center justify-center px-10  lg:px-30 pb-10 lg:pb-0 lg:py-20",children:e.jsxs("form",{className:"p-4 backdrop-blur-sm bg-primary/15 w-full lg:border border-white/30 rounded-2xl lg:p-10",autoComplete:"off",onSubmit:m,children:[e.jsxs("div",{className:"flex items-center w-fit gap-3",children:[e.jsx(y,{className:"w-7 h-7 -ml-1 hover:scale-120 transition-all text-white cursor-pointer",onClick:()=>a("/")}),e.jsx("h1",{className:"text-xl lg:text-2xl font-bold",children:"Login"})]}),e.jsx("p",{className:"mb-5",children:"Secure your stay in just a few clicks!"}),e.jsx(d,{icon:"Mail",type:"email",name:"email",label:"Email Address",value:s.email.value,onChange:o,error:n.email,required:!0}),e.jsx(d,{icon:"Key",type:"password",name:"password",label:"Password",value:s.password.value,onChange:o,error:n.password,required:!0}),e.jsx("div",{className:"mt-5",children:e.jsx("button",{type:"submit",className:"border border-white/30 disabled:bg-white/10 disabled:cursor-not-allowed hover:bg-white/10 transition-all w-full py-3 rounded-2xl font-bold cursor-pointer",disabled:l,children:l?e.jsx(h,{}):"Login"})}),e.jsx("div",{className:"mt-5 text-center",children:e.jsx(f,{to:"/registration",className:"underline cursor-pointer",children:"Don't have an account?"})})]})})]})};export{E as default};
